(this["webpackJsonptractian-app"]=this["webpackJsonptractian-app"]||[]).push([[0],{134:function(e,t,a){},135:function(e,t,a){},137:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var s=a(8),n=a(0),c=a.n(n),i=a(15),r=a.n(i),d=(a(134),a(135),a(59)),o=a.n(d),l=a(84),j=a(91),h=(a(136),a(137),a(112)),b=a.n(h).a.create({baseURL:"http://localhost:3001/"}),u=a(81),p=a.n(u),x=a(113),f=a.n(x),O=a(219),v=a(220),m=a(213),g=a(216),C=a(214),S=a(215),y=a(218),A=a(217),w=a(42),N=m.a.Sider,k=m.a.Content,D=g.a.Panel,_=new Map,E=[],I=[],T=[];var M=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),r=Object(j.a)(i,2),d=(r[0],r[1]);Object(n.useEffect)((function(){b.get("/companies").then(function(){var e=Object(l.a)(o.a.mark((function e(t){var a,s,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],s=t.data,n=0;case 3:if(!(n<s.length)){e.next=12;break}return e.next=6,b.get("/companies/".concat(s[n]._id));case 6:i=e.sent,a.push(i);case 9:n++,e.next=3;break;case 12:c(a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b.get("/assets").then(function(){var e=Object(l.a)(o.a.mark((function e(t){var a,s,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[],s=t.data,n=0;n<s.length;n++)(c=s[n]).healthscore>=80?E.push(c):c.healthscore>=60?I.push(c):T.push(c);d(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var h={title:{text:"Ativos"},xAxis:{categories:["Est\xe1vel","Em Alerta ","Cr\xedtico"]},series:[{data:[E.length,I.length,T.length]}]};function u(){for(var e=0;e<a.length;e++)for(var t=a[e].data,s=0;s<t.units.length;s++){for(var n=0,c=t.units[s],i=0;i<c.data.assetsData.length;i++){n+=c.data.assetsData[i].healthscore}var r=n/c.data.assetsData.length;_.set("".concat(c._id),r)}}return Object(s.jsx)("div",{children:Object(s.jsxs)(m.a,{children:[Object(s.jsx)(C.a,{className:"site-page-header",title:"TRACTIAN - Empresas Cadastradas",style:{backgroundColor:"#839b97"}}),Object(s.jsxs)(m.a,{children:[Object(s.jsx)(k,{children:Object(s.jsx)("div",{className:"site-card-wrapper",children:a.map((function(e){return Object(s.jsxs)(S.a,{bordered:!0,title:e.data.name,className:"cardTitle",headStyle:{fontSize:"20px",fontWeight:"bold",backgroundColor:"#f2dcbb"},style:{backgroundColor:"#ececec"},children:[Object(s.jsxs)(y.a,{children:[Object(s.jsx)(y.a.Item,{label:"Estado",children:e.data.address.state}),Object(s.jsx)(y.a.Item,{label:"Cidade",children:e.data.address.city}),Object(s.jsx)(y.a.Item,{label:"Rua",children:e.data.address.streetAddress}),Object(s.jsx)(y.a.Item,{label:"CEP",children:e.data.address.postalCode}),Object(s.jsx)(y.a.Item,{label:"Contato",children:e.data.phone})]},e.data._id),Object(s.jsx)(S.a,{title:"Unidades",id:"unitCard",headStyle:{fontWeight:"bold",fontSize:"20px",backgroundColor:"#f9f7cf"},children:e.data.units.map((function(e){return Object(s.jsx)(g.a,{ghost:!0,children:Object(s.jsxs)(D,{style:{fontSize:"20px"},header:e.name,showArrow:!1,className:"panelTitle",id:"assetName",onChange:u(e._id),children:[Object(s.jsx)(s.Fragment,{children:e.data.assetsData.map((function(e){return Object(s.jsx)(g.a,{ghost:!0,children:Object(s.jsxs)(D,{header:e.name,className:"panelTitle",style:{fontSize:"17px",fontWeight:"normal"},children:[Object(s.jsxs)("div",{id:"divAssets",children:[Object(s.jsxs)("p",{children:["Descri\xe7\xe3o: ",e.description]}),Object(s.jsxs)("p",{children:["Modelo: ",e.model.name]}),Object(s.jsxs)("p",{children:["Descri\xe7\xe3o do Modelo:"," ",e.model.description]})]}),Object(s.jsx)("div",{children:Object(s.jsxs)("p",{children:["Status do Ativo:"," ",Object(s.jsx)("strong",{style:{color:"".concat("available"===e.status?"#a4b787":"maintenance"===e.status?"#f5a25d":"#ce6262")},children:"available"===e.status?"Dispon\xedvel":"maintenance"===e.status?"Em manuten\xe7\xe3o":"Desativado"})]})}),Object(s.jsx)(A.a,{title:"N\xedvel de Sa\xfade do Ativo",value:e.healthscore,precision:2,valueStyle:{color:"".concat(e.healthscore>=50?"#3f8600":"#cf1322"),fontSize:"18px"},prefix:e.healthscore>50?Object(s.jsx)(O.a,{}):Object(s.jsx)(v.a,{}),suffix:""})]})},e._id)}))}),Object(s.jsx)("br",{}),Object(s.jsx)(w.a,{id:"colAssetsMedia",children:Object(s.jsx)(A.a,{title:"M\xe9dia do N\xedvel de Sa\xfade dos Ativos da Unidade",value:_.get(e._id)||"Unidade sem ativos",precision:2,valueStyle:_.get(e._id)>50?{color:"#3f8600"}:{color:"#cf1322"},prefix:_.get(e._id)>50?Object(s.jsx)(O.a,{}):Object(s.jsx)(v.a,{})})}),Object(s.jsx)("br",{})]},"1")},e._id)}))})]},e._id)}))})}),Object(s.jsx)(N,{width:"35%",height:"100%",className:"sider",children:Object(s.jsx)("div",{id:"siderDiv",className:"site-card-wrapper",style:{position:"fixed"},children:Object(s.jsx)(f.a,{highcharts:p.a,options:h})})})]})]})})};var z=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(M,{})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,221)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(z,{})}),document.getElementById("root")),F()}},[[209,1,2]]]);
//# sourceMappingURL=main.035a9907.chunk.js.map